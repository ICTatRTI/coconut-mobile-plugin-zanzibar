{
  "_id": "Facility",
  "_rev": "483-6b8f75a9ee9363b6be196139b815fbaa",
  "collection": "question",
  "couchapp": {},
  "id": "Facility",
  "isApplicationDoc": true,
  "questions": [
    {
      "autocomplete-options": "window.FacilityOptions = FacilityHierarchy.allFacilities()",
      "label": "Facility Name",
      "type": "autocomplete from code",
      "validation": "'Facility Name ' + value + ' is not valid. Please try again.' unless _.contains(window.FacilityOptions, value)"
    },
    {
      "label": "Malaria Case ID",
      "type": "text"
    },
    {
      "label": "Date of Positive Results",
      "type": "date",
      "validation": "return 'Date of Positive Results must be on or before today' if moment(value) > moment()"
    },
    {
      "label": "Parasite Species",
      "radio-options": "PF,NF,Unknown,Not Applicable",
      "type": "radio"
    },
    {
      "label": "Reference # in OPD Register",
      "type": "number"
    },
    {
      "label": "First Name",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Middle Name",
      "required": "false",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Last Name",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Age",
      "type": "number",
      "validation": "return 'Age must be between 0 and 200' if value < 0 or value > 200"
    },
    {
      "label": "Age in Months or Years",
      "radio-options": "Years, Months,Unknown,Not Applicable",
      "type": "radio"
    },
    {
      "label": "Sex",
      "radio-options": "Male,Female,Unknown,Not Applicable",
      "type": "radio"
    },
    {
      "autocomplete-options": "window.ShehiaOptions = GeoHierarchy.allUniqueShehiaNames()",
      "label": "Shehia",
      "type": "autocomplete from code",
      "validation": "'Shehia ' + value + ' is not valid. Please try again.' unless _.contains(window.ShehiaOptions, value)"
    },
    {
      "label": "Village",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Sheha/Mjumbe",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Head of Household Name",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Contact Mobile # (patient/relative)",
      "type": "text"
    },
    {
      "label": "Treatment Given",
      "type": "autocomplete from previous entries"
    },
    {
      "label": "Travelled Overnight in past month",
      "radio-options": "No, Yes within Zanzibar, Yes outside Zanzibar, Yes within and outside Zanzibar, Not Applicable",
      "type": "radio"
    },
    {
      "label": "If YES, list ALL places travelled",
      "skip_logic_foo": "not ResultOfQuestion('Travelled Overnight in past month')?.match('Yes')",
      "skip_logic":"ResultOfQuestion('Travelled Overnight in past month').indexOf('No') >= 0 if ResultOfQuestion('Travelled Overnight in past month')?",
      "type": "text"
    },
    {
      "label": "Has someone from the same household recently tested positive at a health facility",
      "radio-options": "Yes, No",
      "type": "radio"
    },
    {
      "label": "Case ID for other household member that tested positive at a health facility",
      "skip_logic": "ResultOfQuestion('Has someone from the same household recently tested positive at a health facility') isnt 'Yes'",
      "type": "text"
    },
    {
      "label": "Comments or Remarks",
      "type": "autocomplete from previous entries",
      "required": "false"
    },
    {
      "label": "complete",
      "type": "checkbox"
    }
  ],
  "resultSummaryFields": {
    "Facility Name": "on",
    "Head of Household Name": "on",
    "Malaria Case ID": "on",
    "Shehia": "on"
  }
}
